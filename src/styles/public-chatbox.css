/*** Public Chatbox reserved space + appear animation (main page) ***/
.public-chatbox-slot {
  display: grid;
  place-items: center;
  margin: 0 auto;
  width: min(1100px, 100%);
  /* Default desktop reservation (already smooth) */
  min-block-size: var(--public-chatbox-min-h, 560px);
  content-visibility: auto;
  contain-intrinsic-size: auto 560px;
}

/* Mobile: reserve MORE space so the next section never “peeks” */
@media (max-width: 768px) {
  :root { --public-chatbox-min-h: 640px; }          /* conservative */
  .public-chatbox-slot { contain-intrinsic-size: auto 640px; }
}
@media (max-width: 480px) {
  :root { --public-chatbox-min-h: 700px; }          /* aggressive; prevents bottom peek */
  .public-chatbox-slot { contain-intrinsic-size: auto 700px; }
}

/* Appearance animation MUST NOT change height */
.public-chatbox-appear { opacity: 0; transform: translateY(8px); transition: opacity 280ms ease, transform 320ms ease; }
.public-chatbox-appear.is-ready { opacity: 1; transform: translateY(0); }
